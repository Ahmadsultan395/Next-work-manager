(()=>{var e={};e.id=569,e.ids=[569],e.modules={56037:e=>{"use strict";e.exports=require("mongoose")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},63818:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>v,routeModule:()=>g,serverHooks:()=>y,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>l});var o=t(42706),n=t(28203),a=t(45994),i=t(4335),u=t(43008),c=t.n(u),p=t(39187),d=t(97887);async function l(e){await (0,d.X)();let r=e.cookies.get("authToken")?.value;if(!r)return p.NextResponse.json({message:"No token Found",success:!1},{status:401});try{await (0,d.X)();let e=c().verify(r,process.env.JWT_SECRET),t=await i.K.findById(e._id).select("-password");if(!t)return p.NextResponse.json({message:"User not found",success:!1},{status:401});return p.NextResponse.json(t)}catch(e){return p.NextResponse.json({message:"Server error",success:!1},{status:500})}}let g=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/current/route",pathname:"/api/current",filename:"route",bundlePath:"app/api/current/route"},resolvedPagePath:"F:\\nextjs\\net-work-manager\\src\\app\\api\\current\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:m,serverHooks:y}=g;function v(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:m})}},96487:()=>{},78335:()=>{},97887:(e,r,t)=>{"use strict";t.d(r,{X:()=>n});var s=t(56037),o=t.n(s);let n=async()=>{try{if(o().connections[0].readyState){console.log(o().connections[0].readyState),console.log("Already connected to MongoDB");return}await o().connect(process.env.MONGO_DB_URL,{dbName:"work-manager"},{useNewUrlParser:!0,useUnifiedTopology:!0}),console.log("MongoDB connected")}catch(e){throw console.error("MongoDB connection error:",e),Error("Database connection failed")}};n()},4335:(e,r,t)=>{"use strict";t.d(r,{K:()=>a});var s=t(56037),o=t.n(s);let n=new(o()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0,match:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},password:{type:String,required:!0},about:{type:String,required:!0},profileUrl:String},{timestamps:!0}),a=o().models.Users||o().model("Users",n)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452,8],()=>t(63818));module.exports=s})();